package Model;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

public class UserDAO {
	public List<User> getAll(){
		List<User> list = new ArrayList<User>();
		try {
			Connection con = DBHelper.getConnection();
			String query = "select * from User ";
			PreparedStatement pstm = con.prepareStatement(query);
			ResultSet rs = pstm.executeQuery();
			while(rs.next()) {
				list.add(new User(rs.getInt("id"),rs.getString("username"), rs.getBoolean("gender"),rs.getString("email"),rs.getString("pasword")));
			}
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		return list;
	}
	public int AddUser(User user) {
		try {
			Connection con = DBHelper.getConnection();
			String query = "insert into user (username , password , email, gender) values ?,?,?,?";
			PreparedStatement pstm = con.prepareStatement(query);
			pstm.setString(1, user.getUsername());
			pstm.setString(2,user.getPassword());
			pstm.setString(3, user.getEmail());
			pstm.setBoolean(5, user.isGender());
			int kq = pstm.executeUpdate();
			return kq;
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		return -1;
	}
}
